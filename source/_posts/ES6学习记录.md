---
title: ES6å­¦ä¹ è®°å½•
date: 2018-11-30 18:19:17
tags: [javascript]
categories: ç¬”è®°MAX
---

ECMAScript 6 å…¥é—¨
-----------------------------
[ECMAScript 6 å…¥é—¨](http://es6.ruanyifeng.com/)
ES6 æ—¢æ˜¯ä¸€ä¸ªå†å²åè¯ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ³›æŒ‡ï¼Œå«ä¹‰æ˜¯ 5.1 ç‰ˆä»¥åçš„ JavaScript çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œæ¶µç›–äº† ES2015ã€ES2016ã€ES2017 ç­‰ç­‰ï¼Œè€Œ ES2015 åˆ™æ˜¯æ­£å¼åç§°ï¼Œç‰¹æŒ‡è¯¥å¹´å‘å¸ƒçš„æ­£å¼ç‰ˆæœ¬çš„è¯­è¨€æ ‡å‡†ã€‚æœ¬ä¹¦ä¸­æåˆ° ES6 çš„åœ°æ–¹ï¼Œä¸€èˆ¬æ˜¯æŒ‡ ES2015 æ ‡å‡†ï¼Œä½†æœ‰æ—¶ä¹Ÿæ˜¯æ³›æŒ‡â€œä¸‹ä¸€ä»£ JavaScript è¯­è¨€â€ã€‚

letå’Œconstå‘½ä»¤
-----------------------------
- ES6 æ–°å¢äº†letå‘½ä»¤ï¼Œç”¨æ¥å£°æ˜å˜é‡ã€‚å®ƒçš„ç”¨æ³•ç±»ä¼¼äºvarï¼Œä½†æ˜¯æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆã€‚
- constå£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚
- ES5 åªæœ‰ä¸¤ç§å£°æ˜å˜é‡çš„æ–¹æ³•ï¼švarå‘½ä»¤å’Œfunctionå‘½ä»¤ã€‚ES6 é™¤äº†æ·»åŠ letå’Œconstå‘½ä»¤ï¼Œåé¢ç« èŠ‚è¿˜ä¼šæåˆ°ï¼Œå¦å¤–ä¸¤ç§å£°æ˜å˜é‡çš„æ–¹æ³•ï¼šimportå‘½ä»¤å’Œclasså‘½ä»¤ã€‚æ‰€ä»¥ï¼ŒES6 ä¸€å…±æœ‰ 6 ç§å£°æ˜å˜é‡çš„æ–¹æ³•ã€‚
- "æš‚æ—¶æ€§æ­»åŒº" è¿™ä¸ªå°±æ˜¯è¯´ä¸èƒ½åœ¨letä¹‹å‰å†™å˜é‡ï¼Œå¿…é¡»å£°æ˜ä¸ç„¶æŠ¥é”™
  - åªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨letå‘½ä»¤ï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡å°±â€œç»‘å®šâ€ï¼ˆbindingï¼‰è¿™ä¸ªåŒºåŸŸï¼Œä¸å†å—å¤–éƒ¨çš„å½±å“ã€‚
- letä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡ã€‚
- if (çˆ¶ä½œç”¨åŸŸ) {å­ä½œç”¨åŸŸ} ä¸è¿‡ç°åœ¨ä»£ç æ— æ³•å®ç°ç½¢äº†ï¼Œ
  - for (let i = 0; i < 3; i++) {  let i = 'abc';  console.log(i); }
  - è¿™ä¸²ä»£ç è¾“å‡ºæ­£ç¡®å°±æ˜¯3ä¸ªabcï¼Œç„¶åç°åœ¨çš„è½¬æ¢å·¥å…·éƒ½æ˜¯è¾“å‡ºä¸€ä¸ªabc,å”¯æœ‰chromeæ§åˆ¶å°è¾“å‡º3ä¸ªabc
- ä¸å­˜åœ¨å˜é‡æå‡ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢è¯´çš„ä¼šå‡ºç°æš‚æ—¶æ€§æ­»åŒº

å—çº§ä½œç”¨åŸŸ
letå®é™…ä¸Šä¸º JavaScript æ–°å¢äº†å—çº§ä½œç”¨åŸŸã€‚
ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼ˆIIFEï¼‰ä¸å†å¿…è¦äº†
```
// IIFE å†™æ³•
(function () {
  var tmp = ...;
  ...
}());

// å—çº§ä½œç”¨åŸŸå†™æ³•
{
  let tmp = ...;
  ...
}
```
å—çº§ä½œç”¨åŸŸä¸å‡½æ•°å£°æ˜

ES5è§„å®šå‡½æ•°åªèƒ½åœ¨é¡¶å±‚ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸä¹‹ä¸­å£°æ˜ï¼Œä¸èƒ½åœ¨å—çº§ä½œç”¨åŸŸå£°æ˜ï¼ŒES6æ˜ç¡®è¡¨ç¤ºå¯ä»¥åœ¨å—çº§ä½œç”¨åŸŸä¸­å£°æ˜ï¼Œå‡½æ•°å£°æ˜è¯­å¥çš„è¡Œä¸ºç±»ä¼¼äº`let`ï¼Œåœ¨å—çº§ä½œç”¨åŸŸä¹‹å¤–ä¸å¯å¼•ç”¨

è€ƒè™‘åˆ°ç¯å¢ƒå¯¼è‡´çš„è¡Œä¸ºå·®å¼‚å¤ªå¤§ï¼Œåº”è¯¥é¿å…åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å‡½æ•°ï¼Œå¦‚æœç¡®å®éœ€è¦ï¼Œä¹Ÿåº”è¯¥å†™æˆå‡½æ•°è¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯å‡½æ•°å£°æ˜è¯­å¥

```
// å‡½æ•°å£°æ˜è¯­å¥
{
  let a = 'secret';
  function f() {
    return a;
  }
}

// å‡½æ•°è¡¨è¾¾å¼
{
  let a = 'secret';
  let f = function () {
    return a;
  };
}
```

#### const ä¸€æ—¦å£°æ˜å¿…é¡»èµ‹å€¼ï¼Œä¸ç„¶å°±ä¼šæŠ¥é”™

#### æœ¬è´¨
constå®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€æ‰€ä¿å­˜çš„æ•°æ®ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºç®€å•ç±»å‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚ä½†å¯¹äºå¤åˆç±»å‹çš„æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡å‘å®é™…æ•°æ®çš„æŒ‡é’ˆï¼Œconståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼ˆå³æ€»æ˜¯æŒ‡å‘å¦ä¸€ä¸ªå›ºå®šçš„åœ°å€ï¼‰ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½æ§åˆ¶äº†ã€‚å› æ­¤ï¼Œå°†ä¸€ä¸ªå¯¹è±¡å£°æ˜ä¸ºå¸¸é‡å¿…é¡»éå¸¸å°å¿ƒã€‚

#### å¯¹è±¡å†»ç»“
const foo = Object.freeze({}); ä¸çŸ¥é“ä»€ä¹ˆæ„æ€


é¡¶å±‚å¯¹è±¡çš„å±æ€§ä¸å…¨å±€å˜é‡æŒ‚é’©ï¼Œè¢«è®¤ä¸ºæ˜¯ JavaScript è¯­è¨€æœ€å¤§çš„è®¾è®¡è´¥ç¬”ä¹‹ä¸€ã€‚

#### ä¸ºä»€ä¹ˆä¸€æ®µä»£ç è¦åŒæ—¶è¿è¡Œåœ¨æµè§ˆå™¨ç«¯å’Œnodeç«¯ï¼Œä¸ºä»€ä¹ˆåŒæ—¶è¦åŒºé¡¶å±‚å¯¹è±¡ï¼Œä¸æ‡‚äº†


å˜é‡çš„è§£æ„èµ‹å€¼
-----------------------------
- ES6 å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼ï¼Œä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œè¿™è¢«ç§°ä¸ºè§£æ„ï¼ˆDestructuringï¼‰ã€‚

- npm cache clean --force æ­å»ºç¯å¢ƒçš„æ—¶å€™npmæŠ¥é”™ï¼Œè¿™ä¸ªå‘½ä»¤è§£å†³äº†é—®é¢˜

#### å¯¹è±¡èµ‹å€¼ï¼Œæ­£çœŸèµ‹å€¼çš„æ˜¯åè€…è€Œä¸æ˜¯å‰è€…
```
let { foo } = { foo: 'aaa' }
æ¢ä¸€ç§å†™æ³•
let { foo: baz } = { foo: 'aaaa' }
```
ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ`foo`æ˜¯åŒ¹é…æ¨¡å¼ï¼Œ`baz`æ‰æ˜¯å˜é‡ï¼Œæ­£çœŸè¢«èµ‹å€¼çš„æ˜¯å˜é‡`baz`,è€Œä¸æ˜¯æ¨¡å¼`foo`
å¦‚æœfooä¹Ÿæƒ³å–åˆ°å€¼åˆ™è¦è¿™æ ·å†™
```
let { foo, foo: baz } = { foo: 'aaaa' }
```
é»˜è®¤å€¼ç”Ÿæ•ˆçš„è§„åˆ™æ˜¯å¿…é¡»ä¸¥æ ¼ç­‰äºundefined
```
var [x = 3] = [];

var {x = 3} = {x: undefined}

var {x: y = 3} = {}
```

ä»¥ä¸Šæ˜¯æ•°ç»„å’Œå¯¹è±¡çš„é»˜è®¤å€¼å†™æ³•

```
// é”™è¯¯çš„å†™æ³•
let x;
{x} = {x: 1};
// SyntaxError: syntax error

```
ä¸èƒ½è¿™æ ·å†™{x}javascriptå¼•æ“ä¼šå°†å®ƒç†è§£ä¸ºä¸€ä¸ªä»£ç å—ï¼Œä»è€Œå‘ç”Ÿè¯­æ³•é”™è¯¯

```
// æ­£ç¡®çš„å†™æ³•
let x;
({x} = {x: 1});
```

#### å¯ä»¥è¿™æ ·ç”¨ï¼Œå¥½æ–¹ä¾¿å•Š
```
let { log, sin, cos } = Math;
```

ç”±äºæ•°ç»„æœ¬è´¨æ˜¯ç‰¹æ®Šçš„å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥å¯¹æ•°ç»„è¿›è¡Œå¯¹è±¡å±æ€§çš„è§£æ„ã€‚
```
let arr = [1, 2, 3];
let {0 : first, [arr.length - 1] : last} = arr;
first // 1
last // 3
```
[arr.length - 1]å±äºâ€œå±æ€§åè¡¨è¾¾å¼â€ï¼ˆå‚è§ã€Šå¯¹è±¡çš„æ‰©å±•ã€‹ä¸€ç« ï¼‰

#### å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼
æˆ‘å¥‡æ€ªçš„æ˜¯å¯¹è±¡å¯ä»¥ç”¨ä¸€ä¸ªæ–¹æ³•å»è§£æ„èµ‹å€¼
```
let {length: len} = 'hello';
len //5
```
é‚£å°±æ˜¯è¯´æˆ‘å¯ä»¥ç”¨å¯¹è±¡é‡Œé¢çš„å±æ€§å–½ï¼Ÿ


è§£æ„èµ‹å€¼æ—¶ï¼Œå¦‚æœç­‰å·å³è¾¹æ˜¯æ•°ç»„å’Œå¸ƒå°”å€¼ï¼Œåˆ™ä¼šå…ˆè½¬ä¸ºå¯¹è±¡ã€‚
```
let {toString: a} = 123;
a === Number.prototype.toString   //true

let {toString: b} = true;
b === Number.prototype.toString   //true

```

å¦‚æœæ˜¯å¸ƒå°”å€¼æˆ–è€…æ•°å­—

ä¸»è¦ç”¨é€”ä¹Ÿæ˜¯å¾ˆå¹¿æ³›çš„ï¼Œåˆ—ä¸¾ä¸€ä¸‹
1. äº¤æ¢å˜é‡çš„å€¼
2. ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼
3. å‡½æ•°å‚æ•°çš„å®šä¹‰
4. æå– JSON æ•°æ®
5. å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼
6. éå† Map ç»“æ„
7. è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•

å­—ç¬¦ä¸²æ‰©å±•
-----------------------------
- ES6 æä¾›äº†String.fromCodePointæ–¹æ³•ï¼Œå¯ä»¥è¯†åˆ«å¤§äº0xFFFFçš„å­—ç¬¦ï¼Œå¼¥è¡¥äº†String.fromCharCodeæ–¹æ³•çš„ä¸è¶³ã€‚åœ¨ä½œç”¨ä¸Šï¼Œæ­£å¥½ä¸codePointAtæ–¹æ³•ç›¸åã€‚
- ES6 æä¾›å­—ç¬¦ä¸²å®ä¾‹çš„normalize()æ–¹æ³•ï¼Œç”¨æ¥å°†å­—ç¬¦çš„ä¸åŒè¡¨ç¤ºæ–¹æ³•ç»Ÿä¸€ä¸ºåŒæ ·çš„å½¢å¼ï¼Œè¿™ç§°ä¸º Unicode æ­£è§„åŒ–
- ä¼ ç»Ÿä¸Šï¼ŒJavaScript åªæœ‰indexOfæ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚ES6 åˆæä¾›äº†ä¸‰ç§æ–°æ–¹æ³•ã€‚
  - includes()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚
  - startsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨
  - endsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚
- repeatæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡ã€‚
- ES2017 å¼•å…¥äº†å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦çš„åŠŸèƒ½ã€‚å¦‚æœæŸä¸ªå­—ç¬¦ä¸²ä¸å¤ŸæŒ‡å®šé•¿åº¦ï¼Œä¼šåœ¨å¤´éƒ¨æˆ–å°¾éƒ¨è¡¥å…¨ã€‚padStart()ç”¨äºå¤´éƒ¨è¡¥å…¨ï¼ŒpadEnd()ç”¨äºå°¾éƒ¨è¡¥å…¨ã€‚

#### å †æ ˆæº¢å‡ºè§£å†³æ–¹æ³•ï¼š
- å°¾è°ƒç”¨ä¼˜åŒ–
  - åªæœ‰ä¸¥æ ¼æ¨¡å¼æ‰å¼€å¯ã€‚ES6æ¨¡å—é»˜è®¤å¼€å¯ä¸¥æ ¼æ¨¡å¼
- å°¾é€’å½’
- è¹¦åºŠå‡½æ•°

æ•°ç»„çš„æ‰©å±•
------------

#### æ‰©å±•è¿ç®—ç¬¦
spreadæ˜¯ä¸‰ä¸ªç‚¹ï¼Œå’Œrestå‚æ•°çš„é€†è¿ç®—ä¸€æ ·
æ²¡æœ‰ç†è§£çš„æƒ³æ³•
```
let è®©arrayLike = {
    '0': ï¼š'a',ï¼Œ
    '1': ï¼š'b',ï¼Œ
    '2': ï¼š'c',ï¼Œ
    length: 3é•¿åº¦ï¼š3
};

 // ES5çš„å†™æ³•
var arr1 = [] .slice.call(ï¼ˆarrayLike);
```

æš‚æ—¶å…ˆåˆ°è¿™é‡Œå§ï¼Œå…ˆå»å­¦vueå¼€å‘ç¾å›¢äº†ï¼Œç”¨es6çš„æ—¶å€™ç»§ç»­çœ‹ï¼Œæˆ–è€…ä¸¤ä¸ªä¸€èµ·å­¦
-------------------
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTE3MDA2MjUzNzYsMTk4Mjg3NzcwNl19
-->
# å…¨æ ˆè®°å½•
çº¯å‰ç«¯å·²ç»è¿‡æ—¶ï¼Œå…¨æ ˆæ‰æ˜¯ç›®æ ‡

## let const
`let` å£°æ˜å˜é‡
1. ä¸èƒ½é‡å¤å£°æ˜
2. æ”¯æŒå—çº§ä½œç”¨åŸŸ
`const` å£°æ˜äº§é‡
1. æ§åˆ¶ä¿®æ”¹
2. æ”¯æŒå—çº§ä½œç”¨åŸŸ

## ä½œç”¨åŸŸ
### 1. ä¼ ç»ŸES5
ä»…æ”¯æŒä¸€ç§æ–¹å¼ï¼Œå‡½æ•°ä½œç”¨åŸŸ
### 2. ES6
å—çº§ä½œç”¨åŸŸ
```js
{}

if () {

}

for () {

}
```
è¿™ç§`{}`å†™æ³•ï¼Œéƒ½æ˜¯å—çº§ä½œç”¨åŸŸ

## è§£æ„èµ‹å€¼
{a:12, b: 5, c: 33}
[12, 5, 8]
```js
let {a, b, c} = {a:12, b: 5, c: 33}
let [c, a, d] = [12, 5, 8]
```
å·¦è¾¹çš„ç±»å‹å’Œå³è¾¹å¿…é¡»ä¸€è‡´
å³è¾¹å¿…é¡»å¾—æ˜¯ä¸ªä¸œè¥¿ï¼Ÿ
## å‡½æ•°
### 1. ç®­å¤´å‡½æ•°
() => {}
æœ‰ä¸”åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥`item => {}`
æœ‰ä¸”åªæœ‰ä¸€ä¸ªè¯­å¥ï¼Œå¯ä»¥`item => item + 1`
ä¿®å¤äº†thisçš„é—®é¢˜ï¼Œå…¶ä»–è¯­éŸ³ä¸å­˜åœ¨æ­¤é—®é¢˜
### 2. å‚æ•°å±•å¼€
...å‚æ•°å±•å¼€å¿…é¡»æ˜¯æœ€åä¸€ä¸ªæ•°
```js
let name = (a, ...arr) => {
  console.log(a, ...arr)
}
name(1, 2, 4, 6, 7, 8);
```
å±•å¼€æ•°ç»„ï¼Œå°±æ˜¯æŠŠå€¼å…¨éƒ¨æ‹¿å‡ºæ¥ä¸€æ ·
```js
let arr = [1, 2, 4, 6 ,9]
console.log(...arr)
```
## ES6 æ–°å¢ç³»ç»Ÿå¯¹è±¡
### 1.Array
`map` æ˜ å°„
```js
let arr = [5, 6, 7, 8, 9];
let item = arr.map(item => item <= 7);
console.log(item);
```
`forEach` å°±æ˜¯æŠŠforå°è£…èµ·æ¥äº†ã€‚
`filter` è¿‡æ»¤ï¼Œå¾ˆç®€å•å°±æ˜¯æŠŠè¿”å›falseçš„å€¼å‰”é™¤
```js
let arr = [5, 6, 7, 8, 9];
let item = arr.filter(item => item <= 7);
console.log(item);
```
`reduce` è¿”å›ä¸€ä¸ªå€¼ï¼Œå‡å°‘ï¼Ÿ
```js
let arr = [5, 6, 7, 8, 9];
let item = arr.reduce((tem,item) => tem + item);
console.log(item);
```
### 2.String
å­—ç¬¦ä¸²æ¨¡æ¿
```js
let name = 'æ¨¡æ¿';
console.log(`å­—ç¬¦ä¸²${name}`);
```
`startsWith`
è·å–å­—ç¬¦ä¸²å¼€å¤´å€¼
```js
let http = 'http://';
let https = 'https://';
console.log(http.startsWith('http://'));
console.log(https.startsWith('http://'));
console.log(https.startsWith('https://'));
```
`endsWith`
å’Œä¸Šé¢ç±»ä¼¼ï¼Œä¸è¿‡æ˜¯ä»ç»“å°¾å¼€å§‹è·å–

## JSON ES5.5æ–°å¢å¯¹è±¡
`stringify()`  å°†å¯¹è±¡è½¬æ¢ä¸ºæ ‡å‡†JSON
```js
var obj = {
  a: 1,
  b: 2,
  c: 3
}
console.log(JSON.stringify(obj))
```
`parse()` å°†JSONæ ¼å¼çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡
```js
var obj = '{"a": "1", "b": "2", "c": "3"}';
console.log(JSON.parse(obj));
```

## å¼‚æ­¥å¤„ç†
### å›è°ƒåœ°ç‹±
```js
$.ajax({
  url: 'data/1.json',
  dataType: 'json',
  success(data1){
    $.ajax({
      url: 'data/2.json',
      dataType: 'json',
      success(data2){
        $.ajax({
          url: 'data/3.json',
          dataType: 'json',
          success(data3){
            console.log(data1, data2, data3);
          }
        });
      }
    });
  }
})
```


### `Promise` åˆ›å»ºä¸€ä¸ªpromise
```js
let a = true
let prm = new Promise((resolve, reject) => {
  if (a) {
    resolve('success')
  } else {
    reject('err')
  }
})
prm.then(data => {
  console.log(data);
}, err => {
  console.log(data);
})
```
å°±æ˜¯ä¸€ä¸ªè§£å†³å›è°ƒé—®é¢˜çš„å¤„ç†æ–¹æ³•ï¼Œå¼‚æ­¥å½“ç„¶ä¹Ÿå¯ä»¥ï¼Œä¸è¿‡æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„è§£å†³æ–¹æ¡ˆ
`Promise.all([])`
```js
let p1 = new Promise((resolve, reject) => {
  resolve('success')
}),
p2 = new Promise((resolve, reject) => {
  resolve('success1')
}),
p3 = new Promise((resolve, reject) => {
  resolve('success2')
});
Promise.all([
  p1,
  p2,
  p3
]).then(([a, b, c]) => {
  console.log(a, b, c);
})
```
æœ‰ä¸€ä¸ªpromiseæŠ›å‡ºrejectå°±ä¼šæŠ¥é”™
å¦‚æœé‡Œé¢æ˜¯å¼‚æ­¥çš„ï¼Œåˆ™ä¼šåŒæ—¶è¯·æ±‚ï¼Œè¯·æ±‚å®Œæˆå–å†³äºæœ€æ…¢çš„å“ªä¸€ä¸ªï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±æ²¡åŠæ³•ç¬¬äºŒä¸ªå¼‚æ­¥è°ƒç”¨ç¬¬ä¸€ä¸ªè¿”å›çš„ç»“æœï¼Œè¿™ç§é—®é¢˜æˆ‘ä»¬å¯ä»¥ç”¨thenè§£å†³å‘€ã€‚ã€‚ã€‚å¥½åƒå¯ä»¥

### async/await
è¿™ä¸ªè¯­æ³•ç³–å¤„ç†å¼‚æ­¥ç”¨çš„ï¼ŒES8æ¨å‡ºçš„
```js
let as = async () => {
  let s = 1;
  let s2 = 2;
  let data = await Promise;
}
```
`await` åé¢å¿…é¡»æ˜¯ä¸€ä¸ªpromiseï¼Œä¸çŸ¥é“ä¼šä¸ä¼šè‡ªå·±è½¬æ¢ã€‚

## è¯­æ³•ç³–
å°±æ˜¯ï¼Œå†™æ˜¯è¿™ä¹ˆå†™ï¼Œåˆ°è®¡ç®—æœºçœŸæ­£æ‰§è¡Œçš„æ—¶å€™ï¼Œä¼šæŠŠå‡½æ•°ç¼–è¯‘å›ä»¥å‰çš„å†™æ³•ï¼Œå°±æ¯”å¦‚æˆ‘ä»¬çš„`async`
æˆ‘ä»¬å…¶å®è¿™ä¹ˆå†™ï¼Œä»£ç æ‰§è¡Œçš„æ—¶å€™è¿˜æ˜¯ä¸€å±‚å¥—ä¸€å±‚çš„å›è°ƒï¼Œå…¶å®å°±æ˜¯é¿å…å†™èµ·æ¥å¾ˆéº»çƒ¦çš„å°´å°¬å±€é¢

## é¢å‘å¯¹è±¡
é¢å‘å¯¹è±¡
æœºå™¨è¯­è¨€ -> æ±‡ç¼– -> ä½çº§è¯­è¨€(é¢å‘è¿‡ç¨‹) -> é«˜çº§è¯­è¨€(é¢å‘å¯¹è±¡) -> æ¨¡å— -> æ¡†æ¶ -> API

é¢å‘å¯¹è±¡ï¼š
1.å°è£…æ€§
2.ç»§æ‰¿æ€§
3.å¤šæ€æ€§

ä¸»è¦è®²é¢å‘å¯¹è±¡çš„å°è£…å’Œç»§æ‰¿
## class
### å°è£…
```js
class Box {
  constructor (...arr) {
    this.arr = arr
  }

  show() {
    console.log(this.arr);
  }
}

let box = new Box(1, 2, 3, 4)
box.show()
```
### ç»§æ‰¿
```js
class Box {
  constructor (...arr) {
    this.arr = arr
  }

  show() {
    console.log(this.arr);
  }
}

class Whx extends Box {
  constructor (name, ...arr) {
    super(...arr);
    this.name = name
  }
  showWhx() {
    console.log(this.name);
  }
}
var whx = new Whx('myname', 1, 2, 3 , 4, 6)
whx.show()
whx.showWhx()
```
### ES5å†™æ³•
å°è£…
```js
function Box(name) {
  this.name = name
}
Box.prototype.show = function () {
  console.log(this.name);
}
```
ç»§æ‰¿
```js
function Box(name) {
  this.name = name
}
Box.prototype.show = function () {
  console.log(this.name);
}

function Wxn(name, j) {
  Box.call(this, j) //callæ˜¯ç»§æ‰¿ä»–é‡Œé¢çš„å±æ€§
  this.wxn = name
}
Wxn.prototype = new Box(); //ç»§ç»­æ–¹æ³•
Wxn.prototype.constructor = Wxn;
Wxn.prototype.showWxn = function () {
  console.log(this.wxn);
}
var wxn = new Wxn('youse', 'jic')
wxn.show()
wxn.showWxn()
```

# ES6 æ¢³ç†
çœ‹æ…•è¯¾ç½‘çš„å®æˆ˜è¯¾ç¨‹es6ï¼Œè®°å½•ä¸€äº›ä¸äº†è§£çš„çŸ¥è¯†ç‚¹

ç¼–ç¨‹ç»ƒä¹ é‡Œé¢é‡åˆ°ä¸ªé—®é¢˜ï¼Œå½“ç”¨äº‹ä»¶å§”æ‰˜çš„æ—¶å€™å¦‚ä½•ç¡®è®¤å½“å‰indexï¼Œjqueryå¾ˆå¥½å®ç°ï¼Œä½†æ˜¯jsæˆ‘ä»¬å°±è¦è‡ªå·±å†™äº†
```js
let li = document.querySelectorAll('li');
document.addEvnetListener('click', function(e) {
  for (let i in li) {
    if (li === e.target) {
      console.log('å½“å‰ä¸‹æ ‡', i);
      break
    }
  } 
}, false)

```
å·®ä¸å¤šå°±æ˜¯ä»¥ä¸Šä»£ç å®ç°ï¼Œå¾ˆç®€å•ï¼Œä½†æ˜¯ä»¥å‰æ²¡é‡åˆ°è¿‡è¿˜æŸ¥äº†ä¸€ä¼šã€‚ã€‚

## const
å¸¸é‡å¿…é¡»è¢«èµ‹å€¼
å¸¸é‡ä¸ºå¼•ç”¨ç±»å‹ï¼Œå¯ä»¥è¢«ä¿®æ”¹
```js

const name = {
  age: 10,
  name: 'å°æ˜'
}
console.log(name.age, name.name);
name.age = 20;
console.log(name.age); //å¯ä»¥ä¿®æ”¹
```
å¸¸é‡åªèƒ½ä¿è¯åœ°å€ä¸å˜ï¼Œä¸èƒ½åšåˆ°å†…å®¹ä¸å˜

ä½†æ˜¯`Object.freeze`å¯ä»¥é˜²æ­¢å¼•ç”¨ç±»å‹çš„å€¼è¢«ä¿®æ”¹
```js
const name = {
  age: 10,
  name: 'å°æ˜'
}
Object.freeze(name);
console.log(name.age, name.name);
name.age = 20;
console.log(name.age); //ä¸å¯ä»¥è¢«ä¿®æ”¹
```
## ES6ä¹‹å‰å£°æ˜å¸¸é‡
```js
//----ç¬¬ä¸€ç§--------
var BASE_NAME = 'å°å'; //è¿™ç§å°±æ˜¯ä¸€ä¸ªçº¦å®šï¼Œå‡è£…æˆ‘ä»¬æ˜¯å¸¸é‡
//----ç¬¬äºŒç§--------
var CST = {}
Object.defineProperty(CST, 'BASE_NAME', {
  value: 'å°æ˜',
  writable: false
})
CST.BASE_NAME = 'xiaoming'
console.log(CST.BASE_NAME); //å°æ˜   ä¸å¯ä»¥è¢«ä¿®æ”¹
Object.seal(CST);  //é˜²æ­¢æ‰©å±•
CST.a = 'a';
console.log(CST) //ä¸ä¼šæ·»åŠ a

```

## å¯¹è±¡è§£æ„èµ‹å€¼
1.
```js

let arr = {
  list: [{ skname: 'é¾™åŸ' }]
};
const { list } = arr;
console.log(list) //[]
```
2
```js
let arr = {
  list: [{ skname: 'é¾™åŸ' }]
};
const { list : [{skname}] } = arr;
console.log(skname) //é¾™åŸ

```
3
```js
let arr = {
  list: [{ skname: 'é¾™åŸ' }, { skname: 'é¾™è…¾'}]
};
const { list : [{skname}, {skname : sk}] } = arr;
console.log(skname, sk) //é¾™åŸ
//å› ä¸ºä¸€ä¸ªå˜é‡æˆ–å¸¸é‡ä¸èƒ½é‡å¤å£°æ˜ï¼Œæ‰€ä»¥è¦é‡å‘½åä¸ºsk
```
## ... æ‰©å±•è¿ç®—ç¬¦
```js
let arr = {
  list: [{
    skname: 'é¾™åŸ',
    hn: {names: 's'},
    nams: 'hs'
  }]
};
const { list : [{skname, ...a,}]} = arr;
console.log(skname, a)
```
æ‰©å±•å¯¹è±¡
```js
const obj1 = {
  archer: 'å«å®«',
  lancer: 'ç‘Ÿå¦è¾¾'
}
const obj = {
  seber: 'é˜¿å°”æ‰˜åˆ©äºš',
  ...obj1
}
```
### å¦‚ä½•å¯¹å·²ç»å£°æ˜çš„å˜é‡è§£æ„èµ‹å€¼
```js
let age;
const obj = {
  name: 'å°æ˜',
  age: 22
};          //è¿™é‡Œå¿…é¡»æœ‰;å·
({ age } = obj);
console.log(age);
```
ä¸å»ºè®®è¿™æ ·ä½¿ç”¨

### ä½¿ç”¨å¯¹è±¡ä¼ å…¥ä¹±åºçš„å‡½æ•°å‚æ•°
```js
function AJAX({
  url,
  data,
  type = 'get'
}) {
  console.log(type)
}

AJAX({
  url: '/getinfo',
  data: {
    a: 1
  }
})
```

## å°è£…äº†ä¸€ä¸ªç®€å•çš„æ¨¡æ€æ¡†
[æºç åœ°å€](https://github.com/DemoorBug/lx/blob/master/ç§»åŠ¨å¼€å‘ç»ƒä¹ /ES6/æ¨¡æ€æ¡†/index.html)

# ES6æ‰©å±•

## å­—ç¬¦ä¸²æ‰©å±•
æ¨¡æ¿å­—ç¬¦ä¸²

### éƒ¨åˆ†æ–°æ–¹æ³•
`padStart` è¡¥å…¨å­—ç¬¦ä¸²
```js

let str = 'i';
let str1 = str.padStart(5, 'mooc');
console.log(str1) // mooci

```
`padEnd` ä»å­—ç¬¦ä¸²çš„åé¢å¼€å§‹è¡¥å……

```js
let str = 'i';
let str1 = str.padEnd(5, 'mooc');
console.log(str1) // imooc
```
`repeat` é‡ç»˜å­—ç¬¦ä¸²
```js
console.log('i'.repeat(10)) // iiiiiiiiii
//è‡ªå·±å†™ä¸€ä¸ªé‡ç»˜æ–¹æ³•
function repeat(str, num) {
  return new Array(num + 1).join(str); //æ•°ç»„çš„é•¿åº¦æ˜¯4ä½†æ˜¯å†…å®¹ä¸ºç©ºï¼Œç”¨stræ¥åˆ†å‰²æ•°ç»„
}
console.log(new Array(4).join('i'))
console.log('i', 3); // iii
```
`startWith` ä»¥ä»€ä¹ˆå­—ç¬¦ä¸²å¼€å¤´

`endsWith` ä»¥ä»€ä¹ˆå­—ç¬¦ä¸²ç»“å°¾
```js
let str = 'A promise is a promise';
console.log(str.startWith('A pr')) //true
console.log(str.startWith('b pr')) //false

console.log(str.endsWith('ise')) //true
```
`includes` æ›¿ä»£indexOf
```js
let str = 'A promise is a promise';
if (~str.indexOf('proms')) { //æŒ‰ä½å–å

}

if (str.includes('A prom')) {

}
```
## for of
å¯ä»¥ç”¨æ¥ä¾¿åˆ©å­—ç¬¦ä¸²ï¼Œä»¥å‰å¯ä»¥ç”¨for,æˆ–è€…è½¬æ¢æˆæ•°ç»„éå†
```js
let str = 'NAMES';
str = Array.prototype.slice.call(str);
console.log(str)
```
æˆ–è€…
```js
let str = 'NAMES';
str = str.split('');
console.log(str)
```
ES6
```js
let str = 'NAMES';
str = [...str];
//æˆ–
let [...oStr] = str;
//æˆ–
for (let oStr of str) {
  console.log(oStr)
}
//æˆ–
let oStr = str.split('')
oStr.forEach(function(item) {
  console.log(item)
})
```
### å¯¹è‹±æ–‡å­—ç¬¦ä¸²åŠ å¯†
```js
let str = 'NAMES';

const map = {N:100,A:80,M:50,E:30,S:20};

let [...oStr] = str

oStr.forEach(function(item, index) {
  if (str.includes(item)) {
    oStr[index] = map[item]
  }
})
console.log(oStr.join('')) //10080503020
```
`for of`
```js
let str = 'NAMES';
const map = {N:100,A:80,M:50,E:30,S:20};
let newStr = '';
for (let word of str) {
  if (str.includes(word)) newStr += map[word];
}
console.log(newStr) //å’Œä¸Šé¢ç»“æœä¸€æ ·

```
### unicodeç (ç‚¹)
è¿™ä¸ª`\u1f436`æ¥è‡ª`emoji` [æœ‰å¾ˆå¤šunicodeè¡¨æƒ…](https://emojipedia.org)
jsä¸­ä»…è¯†åˆ« 0000 - ffffä¸€ä¸ªç ç‚¹ `\u1f436` è¿™ä¸ªç ç‚¹æ˜¯è¶…å‡ºäº†çš„ï¼Œ`\u`è‡ªåŠ¨è¢«è¯†åˆ«ä¸ºunicodeç ç‚¹
ES6æä¾›äº†ä¸€ç§æ–¹å¼
`\u{1f436}` 

Unicodeæ˜¯ä¸€é¡¹æ ‡å‡† åŒ…æ‹¬å­—ç¬¦é›†ã€ç¼–ç æ–¹æ¡ˆç­‰
ä»–æ˜¯ä¸ºäº†è§£å†³ä¼ ç»Ÿçš„å­—ç¬¦ç¼–ç æ–¹æ¡ˆçš„å±€é™è€Œäº§ç”Ÿçš„ï¼Œä¸ºæ¯ç§è¯­è¨€ä¸­çš„æ¯ä¸ªå­—ç¬¦è®¾å®šäº†ç»Ÿä¸€å¹¶ä¸”å”¯ä¸€çš„äºŒè¿›åˆ¶ç¼–ç ï¼Œä»¥æ»¡è¶³è·¨è¯­è¨€ã€è·¨å¹³å°è¿›è¡Œæ–‡æœ¬è½¬æ¢ã€å¤„ç†çš„è¦æ±‚
`codePointAt` è·å–å­—ç¬¦ä¸²ä¸­å¯¹åº”å­—ç¬¦çš„ä¸€ä¸ªç ç‚¹
```js
'ğŸ•'.codePointAt(0).toString(16)
```
`at` æ ¹æ®å°æ ‡å–å­—ç¬¦ , ä½ç‰ˆæœ¬æµè§ˆå™¨æ”¯æŒï¼Œchromeä¸æ”¯æŒ
```js
'ğŸ•'.at(0);
```

# æŒ‰ä½å–å
```js
~x = -(x + 1);

if (~x.indexOf('proms')) {

}
```
æ›¿ä»£
```js
if (x.indexOf('proms') !== -1) {

}
```